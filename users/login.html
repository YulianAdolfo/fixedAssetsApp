<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../public/login-styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap"
      rel="stylesheet"
    />
    <title>Login</title>
  </head>
  <body>
    <div class="panel-image-app">
      <div></div>
    </div>
    <div class="form-app">
      <div class="message">
        <h3>{{.Message}}</h3>
      </div>
      <form class="login-form-styles">
        <div class="header">
          <div class="image-header">
            <div></div>
          </div>
          <div class="title"></div>
        </div>
        <input
          type="text"
          name="txt-box-user"
          id="txt-box-user"
          placeholder="Ingrese su usuario o correo electrónico"
        />
        <input
          type="password"
          name="txt-box-password"
          id="txt-box-password"
          placeholder="Ingrese su contraseña"
        />
        <span
          >¿Olvidó su contraseña? de clic
          <a href="./recoveryPassword.html">aquí</a></span
        >
        <span
          >¿No tiene cuenta? regístrese
          <a href="./registry-user-form">aquí</a></span
        >
        <input type="submit" value="Ingresar" id="send" />
      </form>
    </div>
    <script>
      var sender = document.getElementById("send");
      console.log(sender);
      sender.onclick = (e) => {
        var user = document.getElementById("txt-box-user");
        var password = document.getElementById("txt-box-password");

        var userTxt = user.value.trim();
        var passwordTxt = password.value.trim();

        if (userTxt != "" && passwordTxt != "") {
          var form = document.querySelector("form");
          form.action = "/account";
          form.method = "post";
        } else {
          e.preventDefault();
          if (userTxt == "" && passwordTxt == "") {
            user.classList.add( "emptyFields")
            password.classList.add("emptyFields")
          } else {
            if(userTxt == "") {
                user.classList.add( "emptyFields")
            }else {
                password.classList.add("emptyFields")
            }
          }
        }
        setTimeout(() => {
            user.classList.remove("emptyFields")
            password.classList.remove("emptyFields")
        }, 500);
      };
    </script>
  </body>
</html>
